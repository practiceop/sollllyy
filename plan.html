
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Lane</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
      <script src="audio.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap');
        
        .floating-heart {
            position: fixed;
            animation: float 25s linear infinite;
            opacity: 0.4;
            z-index: 1;
            pointer-events: none;
            font-size: 1.5rem;
        }
        
        @keyframes float {
            0% { 
                transform: translateY(100vh) translateX(0) rotate(0deg); 
                opacity: 0;
            }
            10% { opacity: 0.4; }
            90% { opacity: 0.4; }
            100% { 
                transform: translateY(-100px) translateX(50px) rotate(360deg); 
                opacity: 0;
            }
        }

        .modern-gradient {
            background: linear-gradient(135deg, 
                #ffffff 0%, 
                #fef7f7 15%, 
                #fdf2f8 30%, 
                #fce7f3 45%, 
                #fbcfe8 60%, 
                #f3e8ff 75%, 
                #ffffff 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .handwritten {
            font-family: 'Dancing Script', cursive;
        }

        .modern-text {
            font-family: 'Poppins', sans-serif;
        }

        .slide-transition {
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s ease-out;
        }

        .caption-transition {
            transition: all 0.3s ease-in-out;
        }

        .gallery-container {
            box-shadow: 0 20px 60px rgba(236, 72, 153, 0.15);
            border-radius: 24px;
            overflow: hidden;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.8);
        }

        .nav-btn {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(236, 72, 153, 0.2);
        }

        .nav-btn:hover {
            background: rgba(236, 72, 153, 0.1);
            transform: scale(1.05);
        }

        .cute-button {
            background: linear-gradient(45deg, #ec4899, #f472b6);
            box-shadow: 0 8px 20px rgba(236, 72, 153, 0.3);
            transition: all 0.3s ease;
        }

        .cute-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(236, 72, 153, 0.4);
        }

        .audio-control {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(236, 72, 153, 0.2);
        }

        /* Desktop-first responsive design */
        .main-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
        }

        .gallery-wrapper {
            width: 500px;
            max-width: 90vw;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }
            
            .gallery-wrapper {
                width: 95%;
                max-width: 400px;
            }
            
            .mobile-header {
                text-align: center;
                margin-bottom: 2rem;
            }
        }

        /* Tablet adjustments */
        @media (min-width: 769px) and (max-width: 1024px) {
            .gallery-wrapper {
                width: 450px;
                max-width: 80vw;
            }
        }

        /* Large desktop */
        @media (min-width: 1200px) {
            .gallery-wrapper {
                width: 600px;
            }
        }

        .sparkle {
            animation: sparkle 2s infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0.4; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Ensure gallery images maintain aspect ratio */
        .gallery-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
        }

        @media (max-width: 768px) {
            .gallery-image {
                height: 280px;
            }
        }

        @media (min-width: 1200px) {
            .gallery-image {
                height: 450px;
            }
        }
    </style>
</head>
<body class="modern-gradient min-h-screen overflow-x-hidden modern-text">
    <!-- Floating Hearts Background -->
    <div id="hearts-container"></div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Headers -->
        <div class="text-center mb-8 max-w-4xl">
            <h1 class="handwritten text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-pink-600 mb-4 leading-tight">
                Sorry ... 
                <span class="sparkle">üíï</span>
            </h1>
            <p class="modern-text text-base sm:text-lg md:text-xl text-gray-700 leading-relaxed max-w-2xl mx-auto">
                Each picture holds a story... a moment where we were happiest.<br>
                <span class="text-pink-500 font-medium">I never want to be the reason you stop smiling.</span>
            </p>
        </div>

        <!-- Gallery Container -->
        <div class="gallery-wrapper">
            <!-- Gallery Slider -->
            <div id="gallery" class="gallery-container relative overflow-hidden">
                <div id="slider" class="flex transition-transform duration-300 ease-out">
                    <!-- Images will be dynamically added here -->
                </div>

                <!-- Navigation Arrows -->
                <button id="prevBtn" class="nav-btn absolute left-4 top-1/2 transform -translate-y-1/2 rounded-full p-3 shadow-lg z-10 text-pink-600 font-bold text-xl hover:scale-110 transition-all">
                    ‚Üê
                </button>
                <button id="nextBtn" class="nav-btn absolute right-4 top-1/2 transform -translate-y-1/2 rounded-full p-3 shadow-lg z-10 text-pink-600 font-bold text-xl hover:scale-110 transition-all">
                    ‚Üí
                </button>

                <!-- Progress Dots -->
                <div id="progressDots" class="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-3 z-10">
                    <!-- Dots will be added dynamically -->
                </div>
            </div>

            <!-- Caption -->
            <div id="caption" class="text-center mt-6 text-gray-700 italic caption-transition bg-white/60 backdrop-blur-sm rounded-2xl p-6"></div>
        </div>

        <!-- Final Message (Hidden initially) -->
        <div id="finalMessage" class="hidden text-center mt-8 opacity-0 transition-opacity duration-500">
            <div class="bg-white/70 backdrop-blur-sm rounded-3xl p-6 max-w-md mx-auto">
                <p class="text-xl sm:text-2xl text-pink-600 mb-6 handwritten">Did I make you smile a little? <span class="sparkle">üíñ</span></p>
                <button id="notForgiving" class="cute-button text-white px-8 py-3 rounded-full shadow-lg transition-all text-sm sm:text-base font-medium">
                    Still not forgiving me? ü•∫
                </button>
            </div>
        </div>

        <!-- Reply Section (Hidden initially) -->
        <div id="replySection" class="hidden text-center mt-8">
            <div class="bg-white/70 backdrop-blur-sm rounded-3xl p-6 max-w-lg mx-auto">
                <textarea id="replyText" class="w-full p-4 rounded-2xl border-2 border-pink-200 focus:border-pink-400 focus:ring focus:ring-pink-200 resize-none modern-text" rows="4" placeholder="Write your reply here... üíå"></textarea>
                <button id="sendReply" class="mt-4 cute-button text-white px-8 py-3 rounded-full shadow-lg transition-all text-sm sm:text-base font-medium">
                    Send Reply üíå
                </button>
            </div>
        </div>
    </div>

    <!-- Audio Control -->
    <button id="audioControl" class="audio-control fixed bottom-6 right-6 rounded-full p-4 shadow-lg z-20 text-2xl transition-all hover:scale-105">
        üîä
    </button>
    

    <script>
        // Sample image data - Replace placeholder URLs with your actual images
        const images = [
            { url: "pic1.jpg", caption: "Remember this day? You smiled so beautifully. I never want to be the reason for your frown. üå∏" },
            { url: "pic2.jpg", caption: "This was the day you made me laugh uncontrollably... You are my happiest place. ‚ú®" },
            { url: "pic3.jpg", caption: "Look at your smile here! It's my favorite thing in the world. üòä" },
            { url: "pic4.jpg", caption: "Even when I mess up, you are still my everything. I never want to lose this. üíó" },
            { url: "pic5.jpg", caption: "Every moment with you is a treasure I want to keep forever. üåπ" }
        ];

        // Initialize variables
        let currentSlide = 0;
        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let animationID = 0;
        let isMuted = true;

        // Setup elements
        const slider = document.getElementById('slider');
        const caption = document.getElementById('caption');
        const finalMessage = document.getElementById('finalMessage');
        const audioControl = document.getElementById('audioControl');
        const progressDots = document.getElementById('progressDots');

        // Create floating hearts
        function createFloatingHearts() {
            const heartsContainer = document.getElementById('hearts-container');
            const heartEmojis = ['üíó', 'üíï', 'üíñ', 'üå∏', '‚ú®', 'ü¶ã'];
            
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
                heart.className = 'floating-heart';
                heart.style.left = `${Math.random() * 100}vw`;
                heart.style.animationDelay = `${Math.random() * 25}s`;
                heart.style.animationDuration = `${20 + Math.random() * 10}s`;
                heartsContainer.appendChild(heart);
            }
        }

        // Initialize gallery
        function initializeGallery() {
            // Create slides
            images.forEach((image, index) => {
                const slide = document.createElement('div');
                slide.className = 'min-w-full slide-transition flex-shrink-0';
                slide.innerHTML = `
                    <img src="${image.url}" alt="Memory ${index + 1}" 
                         class="gallery-image">
                `;
                slider.appendChild(slide);

                // Create progress dots
                const dot = document.createElement('button');
                dot.className = `w-4 h-4 rounded-full transition-all duration-300 ${index === 0 ? 'bg-pink-500 scale-125' : 'bg-white/60'}`;
                dot.addEventListener('click', () => goToSlide(index));
                progressDots.appendChild(dot);
            });
            updateCaption();
        }

        // Go to specific slide
        function goToSlide(index) {
            currentSlide = index;
            updateSlider();
            updateProgressDots();
        }

        // Update progress dots
        function updateProgressDots() {
            const dots = progressDots.children;
            for (let i = 0; i < dots.length; i++) {
                dots[i].className = `w-4 h-4 rounded-full transition-all duration-300 ${i === currentSlide ? 'bg-pink-500 scale-125' : 'bg-white/60'}`;
            }
        }

        // Touch events handling
        function setupTouchEvents() {
            const hammer = new Hammer(slider);
            hammer.on('panstart panmove panend', (e) => {
                switch(e.type) {
                    case 'panstart':
                        isDragging = true;
                        startPos = e.deltaX;
                        break;
                    case 'panmove':
                        if (isDragging) {
                            const currentPosition = e.deltaX - startPos;
                            setSliderPosition(currentPosition);
                        }
                        break;
                    case 'panend':
                        isDragging = false;
                        const movement = e.deltaX - startPos;
                        if (Math.abs(movement) > 100) {
                            if (movement > 0 && currentSlide > 0) {
                                currentSlide--;
                            } else if (movement < 0 && currentSlide < images.length - 1) {
                                currentSlide++;
                            }
                        }
                        updateSlider();
                        updateProgressDots();
                        break;
                }
            });
        }

        // Update slider position
        function setSliderPosition(position) {
            const slideWidth = slider.clientWidth;
            currentTranslate = prevTranslate + position;
            slider.style.transform = `translateX(${currentTranslate}px)`;
        }

        // Update slider and caption
        function updateSlider() {
            const slideWidth = slider.clientWidth;
            currentTranslate = -currentSlide * slideWidth;
            prevTranslate = currentTranslate;
            slider.style.transform = `translateX(${currentTranslate}px)`;
            updateCaption();

            // Show final message when reaching the last slide
            if (currentSlide === images.length - 1) {
                setTimeout(() => {
                    finalMessage.classList.remove('hidden');
                    setTimeout(() => {
                        finalMessage.classList.add('opacity-100');
                    }, 100);
                }, 1000);
            }
        }

        // Update caption text
        function updateCaption() {
            caption.style.opacity = '0';
            setTimeout(() => {
                caption.innerHTML = `<span class="text-lg font-medium text-pink-600">${images[currentSlide].caption}</span>`;
                caption.style.opacity = '1';
            }, 300);
        }

        // Navigation buttons
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentSlide > 0) {
                currentSlide--;
                updateSlider();
                updateProgressDots();
            }
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentSlide < images.length - 1) {
                currentSlide++;
                updateSlider();
                updateProgressDots();
            }
        });

        // Audio control
        audioControl.addEventListener('click', () => {
            if (isMuted) {
                // bgMusic.play(); // Uncomment when you have actual audio
                audioControl.textContent = 'üîä';
                audioControl.style.backgroundColor = 'rgba(236, 72, 153, 0.2)';
            } else {
                // bgMusic.pause(); // Uncomment when you have actual audio
                audioControl.textContent = 'üîá';
                audioControl.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';
            }
            isMuted = !isMuted;
        });

        // Initialize everything
        createFloatingHearts();
        initializeGallery();
        setupTouchEvents();

        // Auto-resize slider on window resize
        window.addEventListener('resize', () => {
            updateSlider();
        });

        // Smooth redirection on button click
        document.getElementById('notForgiving').addEventListener('click', () => {
            gsap.to('body', {
                opacity: 0,
                duration: 1,
                onComplete: () => {
                    window.location.href = 'final.html'; // Replace with your actual next page URL
                }
            });
        });
    </script>
</body>
</html>